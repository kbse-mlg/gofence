{{set . "title" "Home"}}
{{template "header.html" .}}

    <aside class="right-side">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <div class="col-lg-6 col-md-6 col-sm-5 col-xs-8">
                <div class="header-element">
                    <h3>Clear/
                        <small>Dashboard</small>
                    </h3>
                </div>
            </div>
        </section>
        <!-- Main content -->
        <section class="content">
            <!-- row -->
            <div class="row">
                <div class="col-lg-12">
                    <!-- Basic charts strats here-->
                    <div class="panel">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <i class="ti-map-alt"></i> Location
                            </h4>
                        </div>
                        <div class="panel-body">
                            <div id="gmapid" class="gmap" style="max-height: 600px; height:600px"></div>
                        </div>
                    </div>
                </div>
            <!-- row -->
        </section>
    </aside>
    <script type='text/javascript'>
        $(document).ready(function(){
            map = new GMaps({
                div: '#gmapid',
                lat: -12.043333,
                lng: -77.028333
            });
            var path=[];
            var p = [[-12.040397656836609,-77.03373871559225],[-12.040248585302038,-77.03993927003302],[-12.050047116528843,-77.02448169303511],[-12.044804866577001,-77.02154422636042]];
            for(var i in p){
                latlng = new google.maps.LatLng(p[i][0], p[i][1]);
                path.push(latlng);
            }
            polygon = map.drawPolygon({
                paths: path,
                strokeColor: '#BBD8E9',
                strokeOpacity: 1,
                strokeWeight: 3,
                fillColor: '#BBD8E9',
                fillOpacity: 0.6
            });
            map.addMarker({
                lat: -12.043333,
                lng: -77.028333,
                draggable: true,
                fences: [polygon],
                outside: function(m, f){
                alert('This marker has been moved outside of its fence');
                }
            });
        });
    </script>
{{template "footer.html" .}}
